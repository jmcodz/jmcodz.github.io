<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>South Whidbey Island Tides</title>
  <meta name="description" content="Tide predictions and 7-day weather for South Whidbey Island (Sandy Point, WA)." />

  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
<header class="site-header">
  <h1>South Whidbey Island Tides</h1>
  <p class="sub">
    Sandy Point, Saratoga Passage · NOAA Station <code>9447856</code>
  </p>
</header>

<main class="container">

  <!-- Controls -->
  <section class="controls card">
    <div class="control-group">
      <label for="datum">Datum</label>
      <select id="datum">
        <option value="MLLW" selected>MLLW (Chart Datum)</option>
        <!--option value="MSL">Mean Sea Level</option>
        <option value="MHHW">Mean Higher High Water</option-->
      </select>
  </div>

    <div class="control-group">
      <label for="units">Units</label>
      <select id="units">
        <option value="english" selected>Feet</option>
        <option value="metric">Meters</option>
      </select>
    </div>

    <button id="refresh" class="primary">Refresh Data</button>
  </section>

  <!-- Chart -->
  <section class="card chart-card">
    <h2>Tide Levels (Last 7 Days & Next 7 Days)</h2>
    <div class="chart-wrap">
      <canvas id="tideChart" aria-label="Tide levels chart" role="img"></canvas>
    </div>
  </section>

  <!-- Hi/Lo Table -->
  <section class="card">
    <div class="section-header">
      <h2>High / Low Tides</h2>
      <button id="toggleTides" class="toggle-btn" aria-expanded="true">
        Show Table
      </button>
    </div>

    <div id="tideContainer" class="collapsible hidden">
      <p id="hiloNote" class="note"></p>

      <div class="table-wrap">
        <table id="hiloTable" aria-label="High and low tide times and heights">
          <thead>
            <tr>
              <th>Date</th>
              <th>Time</th>
              <th>Type</th>
              <th>Height</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Weather -->
  <section class="card weather">
    <h2>7-Day Weather Forecast</h2>
    <div id="wxGrid" class="wx-grid" aria-live="polite"></div>
  </section>

</main>

<footer class="site-footer">
  <p>
    Data source: NOAA CO-OPS Tides & Currents and NWS Weather.
    Predictions are harmonic and not for navigation.
  </p>
  <p class="fine-print">
    Built by Jeremy jmcodz· South Whidbey Island
  </p>
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3"></script>
<script src="./script.js"></script>

</body>
</html>
